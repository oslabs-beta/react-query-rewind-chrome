let devToolsPort=null;const connectListener=e=>(console.log("Background Connected"),"devtools-panel"===e.name&&(devToolsPort=e),!0);chrome.runtime.onConnect.addListener(connectListener);const messageListener=async(e,n,o)=>(console.log("message received from content"),"content script"===e.sender&&devToolsPort&&(console.log("send to devtool panel"),devToolsPort.postMessage({event:e.message,type:"event"})),"UpdateUI"===e.sender&&(console.log("mesage for updateUI"),chrome.tabs.query({active:!0,currentWindow:!0},(function(n){chrome.tabs.sendMessage(n[0].id,{sender:"UpdateUI",currentQuery:e.currentQuery})}))),"TimeTravel"===e.sender&&(console.log("mesage for timetravel"),chrome.tabs.query({active:!0,currentWindow:!0},(function(n){chrome.tabs.sendMessage(n[0].id,{sender:"TimeTravel",timeTravel:e.timeTravel})}))),!0);chrome.runtime.onMessage.addListener(messageListener),chrome.runtime.onSuspend.addListener((()=>{chrome.runtime.onConnect.removeListener(connectListener),chrome.runtime.onMessage.removeListener(messageListener)}));